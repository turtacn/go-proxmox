<div align="center">
  <img src="logo.png" alt="go-proxmox Logo" width="200" height="200">
  
  # go-proxmox
  
  **é¢å‘è™šæ‹Ÿæœºä¸è™šæ‹Ÿ Kubernetes é›†ç¾¤çš„äº‘åŸç”Ÿç»Ÿä¸€è®¡ç®—å¹³å°**
  
  [![æ„å»ºçŠ¶æ€](https://img.shields.io/github/actions/workflow/status/turtacn/go-proxmox/ci.yml?branch=main&style=flat-square)](https://github.com/turtacn/go-proxmox/actions)
  [![Go ç‰ˆæœ¬](https://img.shields.io/github/go-mod/go-version/turtacn/go-proxmox?style=flat-square)](https://go.dev/)
  [![è®¸å¯è¯](https://img.shields.io/badge/license-EPL--2.0-blue?style=flat-square)](LICENSE)
  [![Go Report Card](https://goreportcard.com/badge/github.com/turtacn/go-proxmox?style=flat-square)](https://goreportcard.com/report/github.com/turtacn/go-proxmox)
  [![æ–‡æ¡£](https://img.shields.io/badge/docs-architecture-green?style=flat-square)](docs/architecture.md)
  [![æ¬¢è¿ PR](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](CONTRIBUTING.md)
  
  [English](README.md) | [ä¸­æ–‡](README-zh.md)
  
</div>

---

## ä½¿å‘½å®£è¨€

**go-proxmox** æ˜¯ Proxmox VE æ ¸å¿ƒè™šæ‹ŸåŒ–èƒ½åŠ›çš„ç°ä»£åŒ– Golang é‡æ„å®ç°ï¼Œæ—¨åœ¨å°†ä¼ ç»Ÿè™šæ‹Ÿæœºï¼ˆVMï¼‰ä¸è½»é‡çº§è™šæ‹Ÿ Kubernetes é›†ç¾¤ï¼ˆvCluster/VCï¼‰ç»Ÿä¸€ä¸ºå•ä¸€ç®¡ç†å¹³é¢å†…çš„ä¸€ç­‰å…¬æ°‘è®¡ç®—èµ„æºã€‚

æˆ‘ä»¬ä¿ç•™äº† Proxmox VE ä¹…ç»éªŒè¯çš„è®¾è®¡å“²å­¦â€”â€”**ç›´æ¥ç¡¬ä»¶æ§åˆ¶ã€æç®€ä¾èµ–ã€æ—  libvirt æŠ½è±¡å±‚**â€”â€”åŒæ—¶è§£å†³äº‘åŸç”Ÿå·¥ä½œè´Ÿè½½ã€å¤šç§Ÿæˆ·éš”ç¦»å’Œ AI/ML åŸºç¡€è®¾æ–½çš„æ–°å…´éœ€æ±‚ã€‚

---

## ä¸ºä»€ä¹ˆé€‰æ‹© go-proxmoxï¼Ÿ

### æˆ‘ä»¬è§£å†³çš„è¡Œä¸šç—›ç‚¹

| ç—›ç‚¹ | ä¼ ç»Ÿæ–¹æ¡ˆ | go-proxmox è§£å†³æ–¹æ¡ˆ |
|------|----------|---------------------|
| **è™šæ‹Ÿæœº-å®¹å™¨äºŒåˆ†æ³•** | ç‹¬ç«‹ç®¡ç†å¹³é¢ã€ä¸ä¸€è‡´çš„ API | ç»Ÿä¸€èµ„æºæ¨¡å‹ï¼Œå…±äº«å­˜å‚¨/ç½‘ç»œæŠ½è±¡ |
| **Kubernetes å¤æ‚æ€§** | ä¸­å°è§„æ¨¡è´Ÿè½½å¼€é”€è¿‡é‡ | åŸç”Ÿ vClusterï¼Œå†…åµŒ SQLiteï¼Œåˆ†é’Ÿçº§ä¾›ç»™ |
| **å¤šç§Ÿæˆ·éš”ç¦»ä¸è¶³** | ä»…å‘½åç©ºé—´éš”ç¦»ï¼Œå…±äº«æ§åˆ¶é¢ | æ¯ç§Ÿæˆ·ç‹¬ç«‹ apiserverï¼Œç¡¬ä»¶çº§æ•°æ®é¢éš”ç¦» |
| **AI å·¥ä½œè´Ÿè½½æ”¯æŒå¼±** | æ‰‹åŠ¨ GPU ç›´é€šï¼Œæ— åŸç”Ÿè°ƒåº¦ | ä¸€ç­‰å…¬æ°‘ GPU/TPU èµ„æºï¼ŒAI ä¼˜åŒ–æ”¾ç½®ç­–ç•¥ |
| **è¿ç»´è´Ÿæ‹…é‡** | å¤šäºŒè¿›åˆ¶ï¼Œå¤æ‚é…ç½® | å•äºŒè¿›åˆ¶éƒ¨ç½²ï¼Œå£°æ˜å¼ YAML é…ç½® |
| **å‚å•†é”å®š** | ä¸“æœ‰ APIï¼Œä¸é€æ˜å®ç° | å¼€æºï¼Œå…¼å®¹ Proxmox REST API |

### æ ¸å¿ƒå·®å¼‚åŒ–ä¼˜åŠ¿

```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         go-proxmox æ¶æ„æ¦‚è§ˆ                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   è™šæ‹Ÿæœº (VM)    â”‚    â”‚  è™šæ‹Ÿé›†ç¾¤ (VC)   â”‚    â”‚   AI/GPU å·¥ä½œè´Ÿè½½       â”‚  â”‚
â”‚  â”‚   (QEMU/KVM)    â”‚    â”‚  (vCluster)     â”‚    â”‚   (ç›´é€š/vGPU)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                      â”‚                         â”‚                 â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                  â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      ç»Ÿä¸€èµ„æºç®¡ç†å™¨                                     â”‚  â”‚
â”‚  â”‚     â€¢ å…±äº«çŠ¶æ€æœº  â€¢ ç»Ÿä¸€é…é¢æ¨¡å‹  â€¢ ç»Ÿä¸€äº‹ä»¶ç³»ç»Ÿ                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                      â”‚                         â”‚                 â”‚
â”‚           â–¼                      â–¼                         â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   å­˜å‚¨æ’ä»¶       â”‚    â”‚   ç½‘ç»œæ’ä»¶       â”‚    â”‚     è°ƒåº¦å¼•æ“            â”‚  â”‚
â”‚  â”‚ ZFS/LVM/Ceph/NFSâ”‚    â”‚ Bridge/VLAN/SDN â”‚    â”‚   HA/åˆ©ç”¨ç‡/GPU         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

````

---

## æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

### è®¡ç®—èµ„æº

- **è™šæ‹Ÿæœºï¼ˆVMï¼‰**
  - ç›´æ¥ QMP æ§åˆ¶ QEMU/KVMï¼ˆæ—  libvirtï¼‰
  - å…±äº«/æœ¬åœ°å­˜å‚¨çš„çƒ­/å†·è¿ç§»
  - å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼šåˆ›å»ºã€å¿«ç…§ã€å…‹éš†ã€GPU ç›´é€š
  - OVMF/SeaBIOSã€å®‰å…¨å¯åŠ¨ã€vTPM æ”¯æŒ

- **è™šæ‹Ÿé›†ç¾¤ï¼ˆVCï¼‰**â€” *ä¸€ç­‰å…¬æ°‘ç§Ÿæˆ·èµ„æº*
  - æ¯ç§Ÿæˆ·ç‹¬ç«‹ Kubernetes æ§åˆ¶é¢
  - åˆ†å±‚å­˜å‚¨ï¼šå†…åµŒ SQLiteï¼ˆå¼€å‘ï¼‰â†’ å¤–éƒ¨ etcdï¼ˆç”Ÿäº§ï¼‰
  - Private Nodes æ¨¡å¼ï¼Œkubelet-in-netns å®ç°å®Œæ•´ä¸€è‡´æ€§
  - è¿è¡Œæ—¶éš”ç¦»ï¼šL1 (runc) â†’ L2 (Kata) â†’ L3 (QEMU microvm)

### ç»Ÿä¸€åŸºç¡€è®¾æ–½

- **å­˜å‚¨æŠ½è±¡**
  - æ‰€æœ‰å†…å®¹ç±»å‹çš„å•ä¸€æ’ä»¶æ¥å£
  - åç«¯æ”¯æŒï¼šæœ¬åœ°ã€ZFSã€LVM-thinã€Ceph RBDã€NFSã€iSCSI
  - VM ç£ç›˜ã€VC PersistentVolumeã€å¤‡ä»½ã€ISO å…±äº«ä½¿ç”¨

- **ç½‘ç»œæŠ½è±¡**
  - Linux Bridge æ”¯æŒ VLAN/VXLAN
  - VM ç½‘å¡ä¸ VC Pod ç½‘ç»œä½¿ç”¨ç›¸åŒåŸºç¡€è®¾æ–½
  - é›†ç¾¤çº§ nftables é˜²ç«å¢™åŒæ­¥

### ä¼ä¸šçº§èƒ½åŠ›

- **å¤šç§Ÿæˆ·**ï¼šRBACã€é…é¢ï¼ˆrequests/limits/overcommitï¼‰ã€å®¡è®¡æ—¥å¿—
- **é«˜å¯ç”¨**ï¼šè‡ªåŠ¨æ•…éšœè½¬ç§»ã€éš”ç¦»ã€ç»´æŠ¤æ¨¡å¼ï¼ˆcordon/drainï¼‰
- **å¯è§‚æµ‹æ€§**ï¼šPrometheus æŒ‡æ ‡ã€OpenTelemetry è¿½è¸ªã€ç»“æ„åŒ–æ—¥å¿—
- **å®‰å…¨æ€§**ï¼šå®‰å…¨å¯åŠ¨ã€TPMã€ä¸å¯å˜å®¡è®¡æ—¥å¿—ã€nftables ç­–ç•¥

---

## æ€§èƒ½åŸºå‡†

go-proxmox ä¸“ä¸ºç”Ÿäº§çº§æ€§èƒ½è®¾è®¡ï¼š

| åŸºå‡†æµ‹è¯•é¡¹ | ç›®æ ‡å€¼ | è¯´æ˜ |
|-----------|--------|------|
| å•èŠ‚ç‚¹ VM æ•°é‡ | â‰¥500 | æ ‡å‡†é…ç½® |
| å•èŠ‚ç‚¹ VC æ•°é‡ | â‰¥1000 | å°è§„æ ¼è™šæ‹Ÿé›†ç¾¤ |
| æ§åˆ¶é¢ p99 å»¶è¿Ÿ | <100ms | API æ“ä½œ |
| VC ä¾›ç»™æ—¶é—´ | <60s | åŒ…å«æ§åˆ¶é¢å¯åŠ¨ |
| çƒ­è¿ç§»åœæœºæ—¶é—´ | <500ms | å…±äº«å­˜å‚¨ï¼Œæ ‡å‡† VM |
| Oracle RAC è®¤è¯ | è®¡åˆ’ä¸­ | ä¼ä¸šæ•°æ®åº“å·¥ä½œè´Ÿè½½ |
| Kubernetes ä¸€è‡´æ€§ | 100% | CNCF è®¤è¯å‘è¡Œç‰ˆåŸºç¡€ |

---

## å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- Linux å†…æ ¸ â‰¥5.15 ä¸”æ”¯æŒ KVM
- Go 1.22+ï¼ˆä»æºç æ„å»ºï¼‰
- ç›®æ ‡èŠ‚ç‚¹å·²å®‰è£… QEMU 8.0+

### å®‰è£…

**ä»äºŒè¿›åˆ¶å‘å¸ƒåŒ…å®‰è£…ï¼š**

```bash
# ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
curl -LO https://github.com/turtacn/go-proxmox/releases/latest/download/gpve-linux-amd64.tar.gz
tar xzf gpve-linux-amd64.tar.gz
sudo mv gpve-server gpve-agent /usr/local/bin/

# åˆå§‹åŒ–é…ç½®
gpve-server init --config /etc/gpve/config.yaml
````

**ä»æºç å®‰è£…ï¼š**

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/turtacn/go-proxmox.git
cd go-proxmox

# æ„å»ºæ‰€æœ‰äºŒè¿›åˆ¶
make build

# è¿è¡Œæµ‹è¯•
make test

# å®‰è£…
sudo make install
```

**ä½¿ç”¨ Go Installï¼š**

```bash
go install github.com/turtacn/go-proxmox/cmd/gpve-server@latest
go install github.com/turtacn/go-proxmox/cmd/gpve-agent@latest
go install github.com/turtacn/go-proxmox/cmd/gpvectl@latest
```

### å¿«é€Ÿå…¥é—¨

**1. å¯åŠ¨æœåŠ¡å™¨ï¼š**

```bash
# åˆå§‹åŒ–æ–°é›†ç¾¤
gpve-server init --cluster-name my-cluster

# å¯åŠ¨æœåŠ¡å™¨ï¼ˆå‰å°è¿è¡Œç”¨äºæµ‹è¯•ï¼‰
gpve-server run --config /etc/gpve/config.yaml
```

**2. å¯åŠ¨èŠ‚ç‚¹ä»£ç†ï¼š**

```bash
# åœ¨æ¯ä¸ªè®¡ç®—èŠ‚ç‚¹ä¸Šæ‰§è¡Œ
gpve-agent join --server https://control-plane:8443 --token <bootstrap-token>
```

**3. åˆ›å»ºç¬¬ä¸€ä¸ªè™šæ‹Ÿæœºï¼š**

```bash
# ä½¿ç”¨ CLI
gpvectl vm create my-vm \
  --cpu 4 \
  --memory 8Gi \
  --disk size=100Gi,storage=local-zfs \
  --network bridge=vmbr0

# ä½¿ç”¨å£°æ˜å¼ YAML
cat <<EOF | gpvectl apply -f -
apiVersion: gpve.io/v1
kind: VirtualMachine
metadata:
  name: my-vm
  namespace: default
spec:
  cpu:
    cores: 4
  memory:
    size: 8Gi
  disks:
    - name: root
      size: 100Gi
      storage: local-zfs
  networks:
    - name: eth0
      bridge: vmbr0
EOF
```

**4. åˆ›å»ºè™šæ‹Ÿé›†ç¾¤ï¼š**

```bash
gpvectl vc create my-cluster \
  --k8s-version 1.30 \
  --control-plane-tier standard \
  --worker-nodes 3 \
  --isolation-level L2

# è·å– kubeconfig
gpvectl vc kubeconfig my-cluster > ~/.kube/my-cluster.yaml
export KUBECONFIG=~/.kube/my-cluster.yaml
kubectl get nodes
```

---

## ä½¿ç”¨ç¤ºä¾‹

### è™šæ‹Ÿæœºç”Ÿå‘½å‘¨æœŸç®¡ç†

```go
package main

import (
    "context"
    "log"

    "github.com/turtacn/go-proxmox/pkg/client"
    "github.com/turtacn/go-proxmox/pkg/api/v1"
)

func main() {
    // åˆ›å»ºå®¢æˆ·ç«¯
    c, err := client.New("https://gpve-server:8443", client.WithToken("your-token"))
    if err != nil {
        log.Fatal(err)
    }

    // å®šä¹‰è™šæ‹Ÿæœºè§„æ ¼
    vm := &v1.VirtualMachine{
        ObjectMeta: v1.ObjectMeta{
            Name:      "web-server",
            Namespace: "production",
        },
        Spec: v1.VirtualMachineSpec{
            CPU: v1.CPUSpec{
                Cores:   4,
                Sockets: 1,
                Type:    "host",
            },
            Memory: v1.MemorySpec{
                Size: "16Gi",
            },
            Disks: []v1.DiskSpec{
                {
                    Name:    "root",
                    Size:    "100Gi",
                    Storage: "ceph-pool",
                    Boot:    true,
                },
            },
            Networks: []v1.NetworkSpec{
                {
                    Name:   "eth0",
                    Bridge: "vmbr0",
                    VLAN:   100,
                },
            },
        },
    }

    // åˆ›å»ºè™šæ‹Ÿæœº
    created, err := c.VirtualMachines("production").Create(context.Background(), vm)
    if err != nil {
        log.Fatal(err)
    }
    log.Printf("è™šæ‹Ÿæœºå·²åˆ›å»º: %s (ID: %d)", created.Name, created.Status.VMID)

    // å¯åŠ¨è™šæ‹Ÿæœº
    if err := c.VirtualMachines("production").Start(context.Background(), "web-server"); err != nil {
        log.Fatal(err)
    }

    // çƒ­è¿ç§»åˆ°å¦ä¸€èŠ‚ç‚¹
    if err := c.VirtualMachines("production").Migrate(context.Background(), "web-server", 
        client.MigrateOptions{
            TargetNode: "node-02",
            Online:     true,
        }); err != nil {
        log.Fatal(err)
    }
}
```

### è™šæ‹Ÿé›†ç¾¤æ“ä½œ

```go
package main

import (
    "context"
    "log"

    "github.com/turtacn/go-proxmox/pkg/client"
    "github.com/turtacn/go-proxmox/pkg/api/v1"
)

func main() {
    c, _ := client.New("https://gpve-server:8443", client.WithToken("your-token"))

    // ä¸ºç§Ÿæˆ·åˆ›å»ºè™šæ‹Ÿé›†ç¾¤
    vc := &v1.VirtualCluster{
        ObjectMeta: v1.ObjectMeta{
            Name:      "tenant-alpha-cluster",
            Namespace: "tenants",
            Labels: map[string]string{
                "tenant": "alpha",
                "env":    "production",
            },
        },
        Spec: v1.VirtualClusterSpec{
            KubernetesVersion: "1.30.2",
            ControlPlane: v1.ControlPlaneSpec{
                Tier:         v1.ControlPlaneTierPerformance,
                BackingStore: v1.BackingStoreEtcd,
                Replicas:     3,
            },
            WorkerNodes: v1.WorkerNodesSpec{
                Mode:  v1.WorkerModePrivate,
                Count: 5,
                Resources: v1.ResourceRequirements{
                    Requests: v1.ResourceList{
                        v1.ResourceCPU:    "2",
                        v1.ResourceMemory: "4Gi",
                    },
                    Limits: v1.ResourceList{
                        v1.ResourceCPU:    "4",
                        v1.ResourceMemory: "8Gi",
                    },
                },
            },
            IsolationLevel: v1.IsolationLevelL2, // Kata Containers
            Scheduling: v1.SchedulingSpec{
                Strategy: v1.SchedulingStrategyHA,
                AntiAffinity: &v1.AntiAffinitySpec{
                    TopologyKey: "kubernetes.io/hostname",
                },
            },
        },
    }

    created, err := c.VirtualClusters("tenants").Create(context.Background(), vc)
    if err != nil {
        log.Fatal(err)
    }

    // ç­‰å¾…é›†ç¾¤å°±ç»ª
    c.VirtualClusters("tenants").WaitForReady(context.Background(), created.Name)

    // è·å– kubeconfig
    kubeconfig, err := c.VirtualClusters("tenants").GetKubeconfig(context.Background(), created.Name)
    if err != nil {
        log.Fatal(err)
    }
    log.Printf("Kubeconfig:\n%s", kubeconfig)
}
```

---

## æ¶æ„æ¦‚è§ˆ

è¯¦ç»†æ¶æ„æ–‡æ¡£è¯·å‚é˜… [docs/architecture.md](docs/architecture.md)ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              go-proxmox æ¶æ„                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           å±•ç°å±‚                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚   REST API    â”‚  â”‚   gRPC API   â”‚  â”‚   CLI å·¥å…·   â”‚  â”‚  Web UI (*)  â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  (Proxmox     â”‚  â”‚  (å†…éƒ¨é›†ç¾¤)   â”‚  â”‚  (gpvectl)   â”‚  â”‚  (æœªæ¥)      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   å…¼å®¹)       â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           åº”ç”¨å±‚                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  VM æœåŠ¡      â”‚  â”‚  VC æœåŠ¡     â”‚  â”‚  å­˜å‚¨æœåŠ¡    â”‚  â”‚  ç½‘ç»œæœåŠ¡    â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  é›†ç¾¤æœåŠ¡     â”‚  â”‚  HA æœåŠ¡     â”‚  â”‚  ä»»åŠ¡æœåŠ¡    â”‚  â”‚  è®¤è¯æœåŠ¡    â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           é¢†åŸŸå±‚                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  VM é¢†åŸŸ      â”‚  â”‚  VC é¢†åŸŸ     â”‚  â”‚  å­˜å‚¨é¢†åŸŸ    â”‚  â”‚  ç½‘ç»œé¢†åŸŸ    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  (QMP/QEMU)  â”‚  â”‚  (vCluster)  â”‚  â”‚  (æ’ä»¶)      â”‚  â”‚ (Bridge/SDN) â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  é›†ç¾¤é¢†åŸŸ     â”‚  â”‚  è°ƒåº¦å™¨       â”‚  â”‚  çŠ¶æ€æœº      â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  (å…±è¯†)       â”‚  â”‚  (æ”¾ç½®)       â”‚  â”‚  (ç”Ÿå‘½å‘¨æœŸ)  â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                       â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          åŸºç¡€è®¾æ–½å±‚                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  QMP å®¢æˆ·ç«¯   â”‚  â”‚  å­˜å‚¨ API    â”‚  â”‚  ç½‘ç»œ API    â”‚  â”‚  é›†ç¾¤å­˜å‚¨    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  (QEMU)      â”‚  â”‚ (ZFS/LVM/...) â”‚  â”‚  (netlink)   â”‚  â”‚ (etcd/CRDT)  â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚  æŒ‡æ ‡        â”‚  â”‚  æ—¥å¿—         â”‚  â”‚  è¿½è¸ª        â”‚  â”‚  å®¡è®¡æ—¥å¿—    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ (Prometheus) â”‚  â”‚  (ç»“æ„åŒ–)     â”‚  â”‚  (OTel)      â”‚  â”‚  (ä¸å¯å˜)    â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API æ–‡æ¡£

å®Œæ•´ API æ–‡æ¡£è¯·å‚é˜… [docs/apis.md](docs/apis.md)ã€‚

**API å…¼å®¹æ€§ï¼š**

* REST API è·¯å¾„å…¼å®¹ Proxmox VEï¼ˆVM æ“ä½œï¼‰
* æ‰©å±•è·¯å¾„æ”¯æŒ vCluster èµ„æº
* gRPC ç”¨äºå†…éƒ¨é›†ç¾¤é€šä¿¡

**ç¤ºä¾‹ç«¯ç‚¹ï¼š**

```
# VM æ“ä½œï¼ˆProxmox å…¼å®¹ï¼‰
GET    /api2/json/nodes/{node}/qemu
POST   /api2/json/nodes/{node}/qemu
GET    /api2/json/nodes/{node}/qemu/{vmid}/status/current
POST   /api2/json/nodes/{node}/qemu/{vmid}/status/start
POST   /api2/json/nodes/{node}/qemu/{vmid}/migrate

# VirtualCluster æ“ä½œï¼ˆæ‰©å±•ï¼‰
GET    /api/v1/tenants/{tenantId}/vclusters
POST   /api/v1/tenants/{tenantId}/vclusters
GET    /api/v1/tenants/{tenantId}/vclusters/{name}
GET    /api/v1/tenants/{tenantId}/vclusters/{name}/kubeconfig
POST   /api/v1/tenants/{tenantId}/vclusters/{name}/upgrade
```

---

## è·¯çº¿å›¾

| é˜¶æ®µ      | çŠ¶æ€     | æè¿°                      |
| ------- | ------ | ----------------------- |
| Phase 0 | âœ… å®Œæˆ   | é¡¹ç›®è„šæ‰‹æ¶ã€æ ¸å¿ƒç±»å‹ã€æ„å»ºç³»ç»Ÿ         |
| Phase 1 | ğŸš§ è¿›è¡Œä¸­ | å­˜å‚¨æŠ½è±¡ã€åŸºç¡€ VM ç”Ÿå‘½å‘¨æœŸ         |
| Phase 2 | ğŸ“‹ è®¡åˆ’ä¸­ | ç½‘ç»œæŠ½è±¡ã€QMP é›†æˆ             |
| Phase 3 | ğŸ“‹ è®¡åˆ’ä¸­ | é›†ç¾¤å…±è¯†ã€èŠ‚ç‚¹ç®¡ç†               |
| Phase 4 | ğŸ“‹ è®¡åˆ’ä¸­ | VirtualCluster å®ç°       |
| Phase 5 | ğŸ“‹ è®¡åˆ’ä¸­ | HAã€è¿ç§»ã€ç”Ÿäº§åŠ å›º              |
| Phase 6 | ğŸ“‹ è®¡åˆ’ä¸­ | Web UIã€é«˜çº§ SDNã€AI å·¥ä½œè´Ÿè½½ä¼˜åŒ– |

---

## è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·åœ¨æäº¤ PR å‰é˜…è¯»æˆ‘ä»¬çš„[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)ã€‚

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/turtacn/go-proxmox.git
cd go-proxmox

# å®‰è£…å¼€å‘ä¾èµ–
make deps

# è¿è¡Œä»£ç æ£€æŸ¥
make lint

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test

# è¿è¡Œé›†æˆæµ‹è¯•ï¼ˆéœ€è¦ QEMUï¼‰
make test-integration

# ä¸ºå½“å‰å¹³å°æ„å»º
make build
```

### ä»£ç é£æ ¼

* éµå¾ªæ ‡å‡† Go ç¼–ç è§„èŒƒ
* æäº¤å‰è¿è¡Œ `make lint`
* æ–°ä»£ç æµ‹è¯•è¦†ç›–ç‡ â‰¥80%
* ä¸ºæ‰€æœ‰å¯¼å‡ºçš„ç±»å‹å’Œå‡½æ•°ç¼–å†™æ–‡æ¡£

---

## ç¤¾åŒº

* **GitHub è®¨è®ºåŒº**: [github.com/turtacn/go-proxmox/discussions](https://github.com/turtacn/go-proxmox/discussions)
* **é—®é¢˜è¿½è¸ª**: [github.com/turtacn/go-proxmox/issues](https://github.com/turtacn/go-proxmox/issues)
* **å®‰å…¨é—®é¢˜**: [security@go-proxmox.dev](mailto:security@go-proxmox.dev)ï¼ˆæä¾› PGP å¯†é’¥ï¼‰

---

## è®¸å¯è¯

go-proxmox é‡‡ç”¨ [Eclipse Public License 2.0](LICENSE) è®¸å¯è¯ã€‚

```
Copyright (c) 2024-2025 go-proxmox è´¡çŒ®è€…

æœ¬ç¨‹åºåŠé™„å¸¦ææ–™æ ¹æ® Eclipse Public License 2.0 æ¡æ¬¾æä¾›ï¼Œ
è¯¥è®¸å¯è¯å¯åœ¨ http://www.eclipse.org/legal/epl-2.0 è·å–
```

---

## è‡´è°¢

* [Proxmox VE](https://www.proxmox.com/) æä¾›åŸºç¡€è™šæ‹ŸåŒ–æ¦‚å¿µ
* [vCluster](https://www.vcluster.com/) æä¾›è™šæ‹Ÿ Kubernetes é›†ç¾¤æŠ€æœ¯
* [K3s](https://k3s.io/) æä¾›è½»é‡çº§ Kubernetes å‘è¡Œç‰ˆ
* [QEMU](https://www.qemu.org/) æä¾›è™šæ‹ŸåŒ–åç«¯

---

<div align="center">
  <sub>ç”± go-proxmox ç¤¾åŒºç”¨ â¤ï¸ æ„å»º</sub>
</div>